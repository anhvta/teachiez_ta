!function(r){var i=function(){var e=localStorage.getItem("sessionId");if(e)return e;e=function(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==e?t:3&t|8).toString(16)})}();return localStorage.setItem("sessionId",e),e}(),o=null,a="https://chun.website/api/v1/",s=null;var t=864e5;function e(e,t,n){o?(e={session:i,event_type:e,event_values:t,path:r.location.pathname,url:r.location.href,referrer:document.referrer,device:function(){var e=navigator.userAgent;{if(/android/i.test(e))return"Android";if(/iPad|iPhone|iPod/.test(e)&&!r.MSStream)return"iOS";if(/windows phone/i.test(e))return"Windows Phone";if(/Macintosh|MacIntel|MacPPC|Mac68K/.test(e))return"Mac";if(/Windows|Win32|Win64|WOW64/.test(e))return"Windows";if(/Linux/i.test(e))return"Linux"}return"Unknown"}(),ip:u(),element_classes:n,popup:s},(t=new XMLHttpRequest).open("POST",a+"track",!0),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("x-api-key",o),t.send(JSON.stringify(e))):console.error("Teachiez API is not set")}function n(e,t,n){t={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(t))}function c(e){var t=localStorage.getItem(e);return t?(t=JSON.parse(t),(new Date).getTime()>t.expiry?(localStorage.removeItem(e),0):t.value):0}function u(){var e=c("crm_ip");return 0!=e?e:(fetch("https://api.ipify.org?format=json").then(e=>e.json()).then(e=>n("crm_ip",e.ip,t)).catch(e=>console.error(e)),c("crm_ip"))}r.Teachiez_TA?console.warn("Teachiez_TA is already loaded."):(u(),r.addEventListener("load",function(){}),r.Teachiez_TA={setApiKey:function(e){o=e},version:"1.0",trackEvent:e})}(window);